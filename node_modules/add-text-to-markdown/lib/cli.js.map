{"version":3,"sources":["../src/cli.js"],"names":["meow","require","fs","path","getStdin","cli","alias","section","w","markdownFilePath","resolve","process","cwd","input","flags","showHelp","markdownContent","readFileSync","then","rewriteContent","insertContent","write","writeFileSync","console","log"],"mappings":"AAAA;;AAKA;;;;;;AAJA,IAAMA,OAAOC,QAAQ,MAAR,CAAb;AACA,IAAMC,KAAKD,QAAQ,IAAR,CAAX;AACA,IAAME,OAAOF,QAAQ,MAAR,CAAb;AACA,IAAMG,WAAWH,QAAQ,WAAR,CAAjB;;;AAGA,IAAMI,MAAML,sVAaT;AACCM,WAAO;AACHC,iBAAS,SADN;AAEHC,WAAG;AAFA;AADR,CAbS,CAAZ;AAmBA;;;;;;;AAOA,IAAMC,mBAAmBN,KAAKO,OAAL,CAAaC,QAAQC,GAAR,EAAb,EAA4BP,IAAIQ,KAAJ,CAAU,CAAV,CAA5B,CAAzB;AACA,IAAI,CAACJ,gBAAD,IAAqB,CAACJ,IAAIS,KAAJ,CAAUP,OAApC,EAA6C;AACzCF,QAAIU,QAAJ;AACH;AACD,IAAMC,kBAAkBd,GAAGe,YAAH,CAAgBR,gBAAhB,EAAkC,OAAlC,CAAxB;AACAL,WAAWc,IAAX,CAAgB,yBAAiB;AAC7B,QAAMC,iBAAiB,sBAAOH,eAAP,EAAwBI,aAAxB,EAAuCf,IAAIS,KAAJ,CAAUP,OAAjD,CAAvB;AACA,QAAIF,IAAIS,KAAJ,CAAUO,KAAd,EAAqB;AACjBnB,WAAGoB,aAAH,CAAiBb,gBAAjB,EAAmCU,cAAnC,EAAmD,OAAnD;AACH,KAFD,MAEO;AACHI,gBAAQC,GAAR,CAAYL,cAAZ;AACH;AACJ,CAPD","file":"cli.js","sourcesContent":["'use strict';\nconst meow = require('meow');\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst getStdin = require(\"get-stdin\");\nimport insert from \"./insert\";\n\nconst cli = meow(`\n    Usage\n      $ echo \"text\" | add-text-to-markdown path/to/file.md --section \"section name\"\n\n    Options\n      --section  Markdown section name to insert text\n      -w --write    re-write to file\n\n    Examples\n      $ echo \"text\" | add-text-to-markdown README.md --section \"section\"\n      \n      # section\n      text\n`, {\n    alias: {\n        section: 'rainbow',\n        w: 'write'\n    }\n});\n/*\n {\n input: ['unicorns'],\n flags: {rainbow: true},\n ...\n }\n */\nconst markdownFilePath = path.resolve(process.cwd(), cli.input[0]);\nif (!markdownFilePath || !cli.flags.section) {\n    cli.showHelp();\n}\nconst markdownContent = fs.readFileSync(markdownFilePath, \"utf-8\");\ngetStdin().then(insertContent => {\n    const rewriteContent = insert(markdownContent, insertContent, cli.flags.section);\n    if (cli.flags.write) {\n        fs.writeFileSync(markdownFilePath, rewriteContent, \"utf-8\");\n    } else {\n        console.log(rewriteContent);\n    }\n});\n"]}